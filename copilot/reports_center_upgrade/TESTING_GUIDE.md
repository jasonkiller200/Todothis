# 🧪 報告中心測試指南

## 測試目標

確保 Todo 報告頁面的所有功能正常運作，UI 美觀，用戶體驗良好。

---

## 📋 測試前準備

### 環境要求
- ✅ 應用程式正在運行（`run_waitress.ps1`）
- ✅ 已登入系統（有效的用戶會話）
- ✅ 瀏覽器：Chrome、Edge 或 Firefox（最新版本）

### 測試 URL
```
主頁面: http://192.168.6.119:5001/reports/todo
入口頁: http://192.168.6.119:5001/reports
```

---

## ✅ 測試檢查清單

### 1. 基礎功能測試

#### 1.1 頁面載入
- [ ] 訪問 `http://192.168.6.119:5001/reports/todo`
- [ ] 頁面成功載入（無 404/500 錯誤）
- [ ] 頁面標題顯示：「📝 Todo 任務報告」
- [ ] 沒有 JavaScript 錯誤（按 F12 檢查 Console）

#### 1.2 導航元素
- [ ] 頂部導航包含兩個標籤：
  - [ ] 「📝 Todo 任務」（當前選中，高亮）
  - [ ] 「📋 Meeting Task」
- [ ] 「← 返回報告中心」按鈕可點擊
- [ ] 點擊返回按鈕，跳轉到 `/reports`

---

### 2. 統計卡片測試

#### 2.1 頂部統計卡片
應該顯示四個卡片，每個卡片包含：

- [ ] 📊 **總任務數**
  - 顯示數字（不是 `-`）
  - 藍色邊框
  
- [ ] ✅ **已完成**
  - 顯示數字
  - 綠色邊框
  
- [ ] ⏳ **進行中**
  - 顯示數字
  - 橙色邊框
  
- [ ] 🔴 **逾期任務**
  - 顯示數字
  - 紅色邊框

#### 2.2 卡片動畫
- [ ] 滑鼠 hover 時，卡片有上移效果
- [ ] 卡片陰影變深

---

### 3. 功能分頁測試

#### 3.1 分頁按鈕
- [ ] 顯示四個分頁按鈕：
  - [ ] 📊 概覽統計（預設選中）
  - [ ] 📜 歷史任務
  - [ ] 🔴 當前未完成
  - [ ] 🏆 個人排行

#### 3.2 分頁切換
- [ ] 點擊每個分頁按鈕
- [ ] 按鈕變為高亮狀態（漸層背景）
- [ ] 內容區域切換到對應內容
- [ ] 切換有淡入動畫

---

### 4. 概覽統計分頁測試

**操作**：確保在「概覽統計」分頁

#### 4.1 週/月/年統計
應該顯示三個統計卡片：

- [ ] **本週統計**
  - 顯示：完成數/總數（例如：12/15）
  - 顯示：完成率百分比（例如：80.0%）
  
- [ ] **本月統計**
  - 顯示：完成數/總數
  - 顯示：完成率百分比
  
- [ ] **本年統計**
  - 顯示：完成數/總數
  - 顯示：完成率百分比

#### 4.2 數據合理性
- [ ] 完成率在 0-100% 之間
- [ ] 完成數不大於總數
- [ ] 數字與頂部統計卡片一致

---

### 5. 歷史任務分頁測試

**操作**：點擊「📜 歷史任務」分頁

#### 5.1 篩選器
- [ ] 篩選器區域出現
- [ ] 包含以下篩選項：
  - [ ] 時間範圍下拉選單（本週/本月/本季/本年）
  - [ ] 狀態下拉選單（全部/已完成/進行中/待開始/未完成）
  - [ ] 「🔍 套用篩選」按鈕

#### 5.2 任務列表
- [ ] 如果有數據，顯示表格：
  - [ ] 欄位：編號、任務標題、負責人、狀態、預計完成
  - [ ] 狀態顯示為彩色徽章
  - [ ] 表格有 hover 效果（行背景變色）

- [ ] 如果沒有數據：
  - [ ] 顯示空狀態訊息：「📭 沒有找到任務數據」

#### 5.3 篩選功能
- [ ] 選擇不同時間範圍，點擊「套用篩選」
- [ ] 列表更新
- [ ] 顯示「載入中...」動畫

#### 5.4 分頁功能
如果有多頁數據：
- [ ] 顯示分頁控制：「上一頁」、頁碼、「下一頁」
- [ ] 第一頁時，「上一頁」按鈕禁用
- [ ] 最後一頁時，「下一頁」按鈕禁用
- [ ] 點擊分頁按鈕，內容更新

---

### 6. 當前未完成分頁測試

**操作**：點擊「🔴 當前未完成」分頁

#### 6.1 任務列表
- [ ] 顯示當前未完成的任務
- [ ] 包含欄位：編號、任務標題、負責人、狀態、預計完成、逾期

#### 6.2 逾期標記
- [ ] 逾期任務顯示紅色「逾期」徽章
- [ ] 逾期欄位正確標記

#### 6.3 狀態徽章
- [ ] 進行中：藍色
- [ ] 待開始：黃色
- [ ] 未完成：紅色

---

### 7. 個人排行榜分頁測試

**操作**：點擊「🏆 個人排行」分頁

#### 7.1 權限檢查
- [ ] 一般使用者：顯示權限錯誤（如果有限制）
- [ ] 管理層：可以查看排行榜

#### 7.2 排行榜顯示
- [ ] 顯示 Top 10 使用者
- [ ] 前三名顯示獎牌：
  - [ ] 第一名：🥇
  - [ ] 第二名：🥈
  - [ ] 第三名：🥉
- [ ] 其他名次顯示數字

#### 7.3 排行榜資訊
每個排行項目應該包含：
- [ ] 使用者名稱
- [ ] 部門 - 單位
- [ ] 完成數/總數
- [ ] 完成率百分比
- [ ] 右側顯示完成數（大字體）

#### 7.4 互動效果
- [ ] 滑鼠 hover 時，項目向右移動
- [ ] 有陰影效果

---

### 8. UI/UX 測試

#### 8.1 視覺設計
- [ ] 頁面有漸層背景（紫色漸層）
- [ ] 主容器是白色圓角卡片
- [ ] 統計卡片有陰影效果
- [ ] 按鈕有圓角和漸層

#### 8.2 動畫效果
- [ ] 頁面載入有淡入動畫
- [ ] 分頁切換有淡入動畫
- [ ] 按鈕 hover 有上移效果
- [ ] 卡片 hover 有放大/上移效果

#### 8.3 響應式設計
- [ ] 縮小視窗寬度，統計卡片改為單列
- [ ] 篩選器改為垂直排列
- [ ] 表格字體縮小
- [ ] 分頁按鈕可以水平滾動

#### 8.4 色彩系統
- [ ] 主色調：紫色（#667eea）
- [ ] 成功：綠色
- [ ] 警告：橙色
- [ ] 危險：紅色
- [ ] 色彩搭配協調

---

### 9. 錯誤處理測試

#### 9.1 載入狀態
- [ ] 數據載入時顯示「載入中...」
- [ ] 有點點動畫效果

#### 9.2 空狀態
- [ ] 沒有數據時顯示空狀態訊息
- [ ] 有相應的圖示（📭、🏆等）

#### 9.3 錯誤狀態
測試方法：暫時關閉應用，然後重新整理頁面
- [ ] API 錯誤時顯示錯誤訊息
- [ ] 錯誤訊息清晰易懂

---

### 10. 性能測試

#### 10.1 載入速度
- [ ] 頁面載入時間 < 2 秒
- [ ] API 回應時間 < 1 秒
- [ ] 分頁切換流暢

#### 10.2 大量數據
如果有大量任務數據：
- [ ] 表格渲染正常
- [ ] 分頁功能正常
- [ ] 沒有明顯卡頓

---

## 🐛 常見問題排查

### 問題 1: 頁面顯示 404

**可能原因**：
- 應用未啟動或崩潰
- 路由配置錯誤

**解決方法**：
1. 檢查應用是否運行：`Get-Process -Name python`
2. 重新啟動應用：`.\run_waitress.ps1`
3. 檢查瀏覽器 URL 是否正確

---

### 問題 2: 統計卡片顯示 `-`

**可能原因**：
- API 未正常回應
- JavaScript 錯誤
- 權限問題

**解決方法**：
1. 按 F12 打開開發者工具
2. 查看 Console 標籤是否有錯誤
3. 查看 Network 標籤，檢查 API 請求：
   - URL: `/api/reports/todo/overview`
   - Status: 應該是 200
   - Response: 檢查返回的 JSON
4. 直接訪問 API：`http://192.168.6.119:5001/api/reports/todo/overview`

---

### 問題 3: 權限錯誤

**可能原因**：
- 未登入
- 用戶權限不足

**解決方法**：
1. 確認已登入系統
2. 檢查用戶權限等級
3. 管理員功能（如排行榜）需要管理層權限

---

### 問題 4: 數據不更新

**可能原因**：
- 瀏覽器快取
- API 快取

**解決方法**：
1. 按 Ctrl+Shift+R 強制重新整理
2. 清除瀏覽器快取
3. 使用無痕模式測試

---

### 問題 5: 樣式錯亂

**可能原因**：
- CSS 載入失敗
- 瀏覽器兼容性

**解決方法**：
1. 檢查 Network 標籤，確認 CSS 載入成功
2. 更換瀏覽器測試
3. 清除瀏覽器快取

---

## 📸 測試截圖建議

建議截取以下畫面作為測試記錄：

1. **概覽統計分頁**（完整頁面）
   - 包含頂部統計卡片
   - 包含週/月/年統計

2. **歷史任務列表**
   - 顯示篩選器
   - 顯示任務表格

3. **當前未完成任務**
   - 顯示逾期標記
   - 顯示狀態徽章

4. **個人排行榜**
   - 顯示前三名獎牌
   - 顯示完整排行資訊

---

## 💡 測試小技巧

### 使用開發者工具

**Console 標籤**：
- 查看 JavaScript 錯誤
- 查看 console.log 輸出

**Network 標籤**：
- 查看所有 HTTP 請求
- 檢查 API 請求和回應
- 查看請求時間

**Elements 標籤**：
- 檢查 HTML 結構
- 查看 CSS 樣式
- 即時修改樣式測試

### 測試不同情境

1. **不同使用者角色**：
   - 一般使用者
   - 課長
   - 經理
   - 管理員

2. **不同數據量**：
   - 無數據
   - 少量數據（<10 筆）
   - 大量數據（>100 筆）

3. **不同瀏覽器**：
   - Chrome
   - Edge
   - Firefox

4. **不同螢幕尺寸**：
   - 桌面（1920x1080）
   - 筆電（1366x768）
   - 平板（768x1024）

---

## 📝 測試報告模板

完成測試後，可以使用以下模板記錄結果：

```
# Todo 報告頁面測試報告

測試日期：2025-10-03
測試人員：[姓名]
瀏覽器：Chrome 120.x
作業系統：Windows 11

## 測試結果

### 基礎功能
- [✅/❌] 頁面載入
- [✅/❌] 導航功能
- [✅/❌] 統計卡片

### 功能分頁
- [✅/❌] 概覽統計
- [✅/❌] 歷史任務
- [✅/❌] 當前未完成
- [✅/❌] 個人排行

### UI/UX
- [✅/❌] 視覺設計
- [✅/❌] 動畫效果
- [✅/❌] 響應式設計

## 發現的問題

1. [描述問題]
   - 嚴重程度：[高/中/低]
   - 重現步驟：[步驟]
   - 截圖：[附上截圖]

2. ...

## 改進建議

1. [建議內容]
2. ...

## 總體評價

[✅ 通過 / ⚠️ 部分通過 / ❌ 未通過]

備註：[其他說明]
```

---

*最後更新: 2025-10-03*  
*版本: 1.0*  
*狀態: Phase 2 測試中*
